<!DOCTYPE HTML>  
<html>  
<head>  
    <meta http-equiv="content-type" content="text/html" />  
    <title>websocket test</title>  
    <script>
    var socket;  
    function Connect(){  
      try{  
        socket=new WebSocket('ws://localhost:9002/echo');
        // socket=new WebSocket('ws://172.26.184.98:9002');  
      }catch(e){  
        alert('error');  
        return;  
      }  
      socket.onopen = sOpen;  
      socket.onerror = sError;
      socket.onmessage= sMessage;
      socket.onclose= sClose;
    }  
    function sOpen(){
      alert('connect success!');
      socket.send('虹桥机场');
    }
    function sError(){
      alert("connect failure");
    }
    function sMessage(){  
    }
    function sClose(){
      alert("connect closed");
    }  
    function Send(){
      socket.send(document.getElementById("msg").value);
    } 
    function Close(){
      socket.close();
    }  
  </script>
</head>  
   
<body>  
<style>
  body
  {
    background-color:#b0c4de;
  }
  </style>

    <button id="connect" onclick="Connect();">打开</button><br /><br />
    <input id="msg" type="text" value="虹桥机场">
    <button id="send" onclick="Send();">发送</button><br /><br />  
    <button id="close" onclick="Close();">关闭</button><br /><br />
    
</body>  

</html>  